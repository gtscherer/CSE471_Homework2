num(1..9).
border(1;4;7).
1 { a(R,C,N) : num(N) } 1 :- num(R;C).
1 { a(R,C,N) : num(R) } 1 :- num(C;N).
1 { a(R,C,N) : num(C) } 1 :- num(R;N).
:- a(R,C,N), a(R1,C1,N), R!=R1, C!=C1, (((R-1)/3)*3 + (C-1)/3) == (((R1-1)/3)*3 + (C1-1)/3).
:- a(R,C,N), a(R1,C1,N), #abs(R1-R) + #abs(C1-C) == 3.
a(1,1,3).
a(3,3,6).
a(2,4,6).
a(2,6,9).
a(1,9,4).
a(3,7,9).
a(4,2,8).
a(6,2,1).
a(4,4,3).
a(6,4,8).
a(5,5,7).
a(4,6,2).
a(6,6,5).
a(4,8,6).
a(6,8,7).
a(9,1,9).
a(7,3,7).
a(8,4,7).
a(8,6,8).
a(7,7,8).
a(9,9,7).


